#Resources:
#  SubscribeQueue:
#    Type: AWS::SQS::Queue
#    Properties:
#      QueueName: ${self:custom.queuesNames.SubscribeQueue.${opt:stage, self:provider.stage}}
#      MessageRetentionPeriod: 1209600
#      VisibilityTimeout: 30
#      FifoQueue: true
#      DelaySeconds: 5
#      ContentBasedDeduplication: true
#      RedrivePolicy:
#        deadLetterTargetArn:
#          Fn::GetAtt:
#          - DeadLetterQueue
#          - Arn
#        maxReceiveCount: 50
#
#  DeadLetterQueue:
#    Type: AWS::SQS::Queue
#    Properties:
#      FifoQueue: true
#      MessageRetentionPeriod: 1209600
#
#  QueueDepthAlarmOver1000:
#    Type: AWS::CloudWatch::Alarm
#    Properties:
#      AlarmDescription: Alarm if queue depth grows beyond 1000 messages
#      Namespace: AWS/SQS
#      MetricName: NumberOfMessagesVisible
#      Dimensions:
#      - Name: QueueName
#        Value: ${file(env.yml):${opt:stage, self:provider.stage}.SQS}
#      Statistic: Sum
#      Period: 60
#      EvaluationPeriods: 1
#      Threshold: 1000
#      ComparisonOperator: GreaterThanOrEqualToThreshold
#      AlarmActions:
#      - { "Fn::Join" : ["", ["arn:aws:sns:${self:provider.region}:", { "Ref" : "AWS::AccountId" }, ":${self:provider.environment.SNS}" ] ]  }

#  Queue2:
#    Type: AWS::SQS::Queue
#    Properties:
#      QueueName: ${file(env.yml):${opt:stage, self:provider.stage}.SQS2}
#      MessageRetentionPeriod: 1209600
#      VisibilityTimeout: 300
